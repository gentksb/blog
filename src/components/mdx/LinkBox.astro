---
import { ReactLinkBox } from "./components/linkBox"
import { getOgp } from "../../lib/getOgp"
import { LinkBoxLayout } from "./components/linkBoxLayout"

interface Props {
  url: string
  linkUrl?: string
  isAmazonLink: boolean
}

const props: Props = Astro.props
const staticOgp = props.isAmazonLink ? undefined : await getOgp(props.url)
---

{
  !staticOgp ? (
    <ReactLinkBox {...props} client:only="react" />
  ) : (
    <LinkBoxLayout {...staticOgp} />
  )
}
